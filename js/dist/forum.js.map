{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@litalino/flarum-blog-article-series/external root \"flarum.core.compat['Model']\"","webpack://@litalino/flarum-blog-article-series/external root \"flarum.core.compat['models/Discussion']\"","webpack://@litalino/flarum-blog-article-series/external root \"flarum.core.compat['tags/models/Tag']\"","webpack://@litalino/flarum-blog-article-series/external root \"flarum.core.compat['common/extend']\"","webpack://@litalino/flarum-blog-article-series/external root \"flarum.core.compat['v17development/blog/components/BlogItemSidebar']\"","webpack://@litalino/flarum-blog-article-series/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@litalino/flarum-blog-article-series/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@litalino/flarum-blog-article-series/external root \"flarum.core.compat['common/Component']\"","webpack://@litalino/flarum-blog-article-series/external root \"flarum.core.compat['components/Link']\"","webpack://@litalino/flarum-blog-article-series/./src/forum/components/ArticleSeriesList.js","webpack://@litalino/flarum-blog-article-series/external root \"flarum.core.compat['v17development/blog/pages/BlogItem']\"","webpack://@litalino/flarum-blog-article-series/external root \"flarum.core.compat['common/components/LinkButton']\"","webpack://@litalino/flarum-blog-article-series/external root \"flarum.core.compat['common/components/Button']\"","webpack://@litalino/flarum-blog-article-series/external root \"flarum.core.compat['forum/utils/DiscussionControls']\"","webpack://@litalino/flarum-blog-article-series/external root \"flarum.core.compat['v17development/blog/components/BlogPostController']\"","webpack://@litalino/flarum-blog-article-series/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@litalino/flarum-blog-article-series/external root \"flarum.core.compat['common/components/Select']\"","webpack://@litalino/flarum-blog-article-series/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://@litalino/flarum-blog-article-series/./src/forum/components/ArticleSeriesModal.js","webpack://@litalino/flarum-blog-article-series/./src/forum/addArticleSeriesModal.js","webpack://@litalino/flarum-blog-article-series/./src/forum/index.js","webpack://@litalino/flarum-blog-article-series/./src/common/registerModels.js","webpack://@litalino/flarum-blog-article-series/./src/forum/addArticleList.js","webpack://@litalino/flarum-blog-article-series/./src/forum/addArticlePrevNextButtons.js","webpack://@litalino/flarum-blog-article-series/webpack/bootstrap","webpack://@litalino/flarum-blog-article-series/webpack/runtime/compat get default export","webpack://@litalino/flarum-blog-article-series/webpack/runtime/define property getters","webpack://@litalino/flarum-blog-article-series/webpack/runtime/hasOwnProperty shorthand","webpack://@litalino/flarum-blog-article-series/webpack/runtime/make namespace object"],"sourcesContent":["const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['Model'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['models/Discussion'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['tags/models/Tag'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['v17development/blog/components/BlogItemSidebar'];","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['components/Link'];","import Component from 'flarum/common/Component';\nimport Link from 'flarum/components/Link';\n\nexport default class ArticleSeriesList extends Component {\n  view() {\n    if (this.attrs.discussion == null) return '';\n\n    const articleSeries = this.attrs.discussion.articleSeries();\n    //console.log(articleSeries);\n\n    if (!articleSeries) return '';\n\n    //const articles = articleSeries.articles();\n    const get_articles = articleSeries.articles();\n    console.log(get_articles);\n\n    //this.articles_randomSeries = get_articles.subList(0, 5);\n    //console.log(this.articles_randomSeries);\n    //this.featuredPosts = articles.slice(0, this.featuredCount);\n    //this.articlesCount = 6;\n    //this.articles = get_articles.length > this.articlesCount ? get_articles.slice(this.articlesCount, get_articles.length) : get_articles;\n    //const articles = this.articles;\n    this.articlesCount = 5;\n\n    if (get_articles.length > this.articlesCount) {\n      var newItems = [];\n\n      for (var i = 0; i < 5; i++) {\n        var idx = Math.floor(Math.random() * get_articles.length);\n        //newItems.push(items[idx]);\n        //items.splice(idx, 1);\n        newItems.push(get_articles.splice(idx, 1)[0]);\n      }\n      this.articles = newItems;\n      //console.log(newItems);\n\n    } else {\n      this.articles = get_articles;\n      //console.log(get_articles);\n    }\n    const articles = this.articles;\n\n    return (\n      <div className=\"BlogArticleList BlogSideWidget\">\n        <h3>\n          {app.translator.trans('askvortsov-article-series.forum.article_list.title', {\n            series: <Link href={app.route('blogCategory', { slug: articleSeries.slug() })}>{articleSeries.name()}</Link>,\n          })}\n        </h3>\n\n        {articles && articles.sort((a1, a2) => a1.articleSeriesOrder() - a2.articleSeriesOrder()).map(this.articleItem)}\n      </div>\n    );\n  }\n\n  articleItem(article, i) {\n    return (\n      <Link href={app.route('blogArticle', { id: article.slug() })} className={`BlogSideWidget-item BlogSideWidget-item-${article.id()}`}>\n        {i + 1}. {m.route.param('id') === article.slug() ? <strong>{article.title()}</strong> : article.title()}\n      </Link>\n    );\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['v17development/blog/pages/BlogItem'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LinkButton'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/utils/DiscussionControls'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['v17development/blog/components/BlogPostController'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Modal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Select'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/Stream'];","import Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport Select from 'flarum/common/components/Select';\nimport Stream from 'flarum/common/utils/Stream';\n\nexport default class ArticleSeriesModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    const articleSeries = this.attrs.discussion.articleSeries();\n    this.articleSeriesId = Stream(articleSeries ? articleSeries.id() : 'NULL');\n    this.articleSeriesOrder = Stream(this.attrs.discussion.articleSeriesOrder() || 0);\n  }\n\n  className() {\n    return 'ArticleSeriesModal Modal--small';\n  }\n\n  title() {\n    return app.translator.trans('askvortsov-article-series.forum.article_series_modal.title');\n  }\n\n  content() {\n    const tagSelectOptions = this.attrs.discussion\n      .tags()\n      .filter((tag) => tag.isArticleSeries())\n      .reduce((acc, tag) => {\n        acc[tag.id()] = tag.name();\n        return acc;\n      }, {});\n    tagSelectOptions['NULL'] = 'None';\n\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form Form--centered\">\n          <div className=\"Form-group\">\n            <label>{app.translator.trans('askvortsov-article-series.forum.article_series_modal.tag_id_label')}</label>\n            <Select value={this.articleSeriesId()} onchange={this.articleSeriesId} options={tagSelectOptions}></Select>\n          </div>\n          <div className=\"Form-group\">\n            <label>{app.translator.trans('askvortsov-article-series.forum.article_series_modal.order_label')}</label>\n            <input className=\"FormControl\" bidi={this.articleSeriesOrder} type=\"number\" />\n          </div>\n          <div className=\"Form-group\">\n            {Button.component(\n              {\n                className: 'Button Button--primary Button--block',\n                type: 'submit',\n                loading: this.loading,\n              },\n              app.translator.trans('askvortsov-article-series.forum.article_series_modal.submit_button')\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n\n    this.loading = true;\n\n    this.attrs.discussion\n      .save({\n        articleSeriesId: parseInt(this.articleSeriesId()) || null,\n        articleSeriesOrder: this.articleSeriesOrder(),\n      })\n      .finally(() => {\n        this.loading = false;\n        m.redraw();\n      });\n  }\n}\n","import { extend } from 'flarum/common/extend';\nimport Button from 'flarum/common/components/Button';\nimport DiscussionControls from 'flarum/forum/utils/DiscussionControls';\nimport BlogPostController from 'flarum/v17development/blog/components/BlogPostController';\n\nimport ArticleSeriesModal from './components/ArticleSeriesModal';\n\nfunction addModal(items, discussion) {\n  items.add(\n    'article-series-settings',\n    <Button\n      icon=\"fas fa-book\"\n      onclick={() =>\n        app.modal.show(ArticleSeriesModal, {\n          discussion,\n        })\n      }\n    >\n      {app.translator.trans('askvortsov-article-series.forum.discussion_controls.article_series_button')}\n    </Button>\n  );\n}\n\nexport default function addArticleSeriesModal() {\n  extend(BlogPostController.prototype, 'manageArticleButtons', function (items) {\n    return addModal(items, this.attrs.article);\n  });\n  extend(DiscussionControls, 'userControls', addModal);\n}\n","import registerModels from '../common/registerModels';\nimport addArticleList from './addArticleList';\nimport addArticlePrevNextButtons from './addArticlePrevNextButtons';\nimport addArticleSeriesModal from './addArticleSeriesModal';\n\napp.initializers.add(\"litalino/flarum-blog-article-series\", () => {\n  registerModels();\n  addArticleList();\n  addArticleSeriesModal();\n  addArticlePrevNextButtons();\n});\n","import Model from 'flarum/Model';\nimport Discussion from 'flarum/models/Discussion';\nimport Tag from 'flarum/tags/models/Tag';\n\nexport default function registerModels() {\n  Discussion.prototype.articleSeriesOrder = Model.attribute('articleSeriesOrder');\n  Discussion.prototype.articleSeries = Model.hasOne('articleSeries');\n  Tag.prototype.isArticleSeries = Model.attribute('isArticleSeries');\n  Tag.prototype.articles = Model.hasMany('articles');\n}\n","import { extend, override } from 'flarum/common/extend';\nimport BlogItemSidebar from 'flarum/v17development/blog/components/BlogItemSidebar';\n\nimport ArticleSeriesList from './components/ArticleSeriesList';\n\nexport default function addArticleList() {\n  extend(BlogItemSidebar.prototype, 'items', function (items) {\n    const author = items.get('author');\n    items.remove('author');\n    items.add('author', author, app.screen() === 'phone' ? 5 : 20);\n    items.add('article-list', <ArticleSeriesList discussion={this.attrs.article} />, 10);\n  });\n}\n","import { extend } from 'flarum/common/extend';\nimport BlogItem from 'flarum/v17development/blog/pages/BlogItem';\nimport LinkButton from 'flarum/common/components/LinkButton';\n\nexport default function addArticlePrevNextButtons() {\n  extend(BlogItem.prototype, 'postItems', function (items) {\n    const articleSeries = this.article?.articleSeries();\n\n    if (!articleSeries || articleSeries.articles().length <= 1) return;\n\n    const articlesSorted = articleSeries.articles().sort((a1, a2) => a1.articleSeriesOrder() - a2.articleSeriesOrder());\n\n    const i = articlesSorted.findIndex((a) => a.id() === this.article.id());\n\n    items.add(\n      'nextPrevButtons',\n      <div class=\"FlarumBlog-Article-Post--nextPrevButtons\">\n        {i === 0 ? (\n          <div />\n        ) : (\n          <LinkButton icon=\"fas fa-chevron-left\" href={app.route('blogArticle', { id: articlesSorted[i - 1].slug() })}>\n            {app.translator.trans('askvortsov-article-series.forum.article_item.prev_article')}\n          </LinkButton>\n        )}\n        {i + 1 === articleSeries.articles().length ? (\n          <div />\n        ) : (\n          <LinkButton icon=\"fas fa-chevron-right\" href={app.route('blogArticle', { id: articlesSorted[i + 1].slug() })}>\n            {app.translator.trans('askvortsov-article-series.forum.article_item.next_article')}\n          </LinkButton>\n        )}\n      </div>\n    );\n  });\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"names":["flarum","core","compat","_setPrototypeOf","o","p","Object","setPrototypeOf","bind","__proto__","_inheritsLoose","subClass","superClass","prototype","create","constructor","ArticleSeriesList","_Component","apply","arguments","_proto","view","this","attrs","discussion","articleSeries","get_articles","articles","console","log","articlesCount","length","newItems","i","idx","Math","floor","random","push","splice","m","className","app","translator","trans","series","Link","href","route","slug","name","sort","a1","a2","articleSeriesOrder","map","articleItem","article","id","param","title","Component","ArticleSeriesModal","_Modal","oninit","vnode","call","articleSeriesId","Stream","content","tagSelectOptions","tags","filter","tag","isArticleSeries","reduce","acc","Select","value","onchange","options","bidi","type","Button","loading","onsubmit","e","_this","preventDefault","save","parseInt","redraw","Modal","addModal","items","add","icon","onclick","modal","show","initializers","Discussion","Model","Tag","extend","BlogItemSidebar","author","get","remove","screen","BlogPostController","DiscussionControls","BlogItem","_this$article","articlesSorted","findIndex","a","class","LinkButton","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","n","getter","__esModule","d","definition","key","defineProperty","enumerable","obj","prop","hasOwnProperty","r","Symbol","toStringTag"],"sourceRoot":""}